(this.webpackJsonplaivanupotus=this.webpackJsonplaivanupotus||[]).push([[0],{121:function(e,t){},124:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(68),r=a.n(i),l=(a(81),a(72)),c=a(12),u=a(10),o=a(3),j=function(e,t,a){if("number"!==typeof a)return o.t;if(a<b||a>p)return o.t;for(var n=0;n<e.boards.length;n++)e.boards[n]=Array(a).fill(Array(a).fill(null))},p=10,b=5,m=function(e){for(var t=[],a=0;a<e.numPlayers;a++){for(var n=[],s=0;s<10;s++)n.push(Array(10).fill(null));t.push(n)}return t},d={name:"Laivanupotus",setup:function(e){return{message:{type:"nohit",text:""},boards:m(e),player1Name:"Pelaaja 1",player2Name:"Pelaaja 2",shipsPlayer1:[],shipsPlayer2:[],shipAmounts:{carriers:1,battleships:1,cruisers:2,submarines:2,destroyers:3},sunkShipsP1:0,sunkShipsP2:0}},turn:{order:o.k.RESET},phases:{settings:{start:!0,next:"setup",moves:{setPlayerNames:function(e,t,a,n){1===a?e.player1Name=n||"Pelaaja 1":2===a&&(e.player2Name=n||"Pelaaja 2")},setBoardSize:j,setShipAmounts:function(e,t,a){var n=e.boards[0][0].length;return 5*a.carriers+4*a.battleships+3*a.cruisers+3*a.submarines+2*a.destroyers>n*n/2||a.carriers<0||a.battleships<0||a.cruisers<0||a.submarines<0||a.destroyers<0?o.t:(e.shipAmounts.carriers=a.carriers,e.shipAmounts.battleships=a.battleships,e.shipAmounts.cruisers=a.cruisers,e.shipAmounts.submarines=a.submarines,void(e.shipAmounts.destroyers=a.destroyers))}}},setup:{next:"play",moves:{submitShips:function(e,t,a){"0"===t.currentPlayer?(e.shipsPlayer1=a,t.events.endTurn()):(e.shipsPlayer2=a,t.events.endPhase())},setBoardSize:j}},play:{moves:{clickCell:function(e,t,a){var n=a.coords,s=a.targetPlayer;if(!function(e,t,a){var n=t.x,s=t.y;return!(n<0||n>=e.boards[a].length)&&!(s<0||s>=e.boards[a][n].length)}(e,n,s))return o.t;var i=n.x,r=n.y,l=e.boards[s],c=0==s?e.shipsPlayer1:e.shipsPlayer2,u=0==s?e.player1Name:e.player2Name;if(null!==l[i][r])return o.t;l[i][r]=!0;var j=c.find((function(e){return e.coords.find((function(e){return e.x-1===i&&e.y-1===r}))}));j?(j.hits+=1,j.hits==j.coords.length?(e.message.type="sunk",e.message.text="Upotit pelaajan ".concat(u," laivan"),0==s?e.sunkShipsP1++:e.sunkShipsP2++,j.sunk=!0,e.sunkShipsP1===c.length&&(e.message.text="Voitit pelin!",e.message.type="gameOver"),e.sunkShipsP2===c.length&&(e.message.text="Voitit pelin!",e.message.type="gameOver")):(e.message.type="hit",e.message.text="Osuit pelaajan ".concat(u," laivaan"))):(e.message.type="nohit",e.message.text="",t.events.endTurn())},resetGame:function(e,t){e.boards=m(t),e.shipsPlayer1=[],e.shipsPlayer2=[],e.sunkShipsP1=0,e.sunkShipsP2=0,e.message.text="",e.message.type="nohit",t.events.setPhase("settings")},clearMessage:function(e,t){e.message.text="",e.message.type=""}}}},endIf:function(e,t){}},h=a(1),v=a(6),O=a(20),x=(a(82),a(2)),g=function(e){var t=e.game,a=t.G,s=a.player1Name,i=a.player2Name,r=a.boards,l=a.shipAmounts,u=r[0].length,o=Object(n.useState)(s),j=Object(v.a)(o,2),p=j[0],b=j[1],m=Object(n.useState)(i),d=Object(v.a)(m,2),g=d[0],f=d[1],y=Object(n.useState)(u),k=Object(v.a)(y,2),N=k[0],S=k[1],P=Object(n.useState)(l.carriers),C=Object(v.a)(P,2),I=C[0],D=C[1],L=Object(n.useState)(l.battleships),w=Object(v.a)(L,2),A=w[0],T=w[1],z=Object(n.useState)(l.cruisers),E=Object(v.a)(z,2),H=E[0],G=E[1],B=Object(n.useState)(l.submarines),F=Object(v.a)(B,2),V=F[0],J=F[1],M=Object(n.useState)(l.destroyers),R=Object(v.a)(M,2),_=R[0],W=R[1],q=Object(n.useState)(""),K=Object(v.a)(q,2),Z=K[0],U=K[1],Q={carriers:I,battleships:A,cruisers:H,submarines:V,destroyers:_},X=function(e,t){var a=Object(h.a)(Object(h.a)({},Q),{},Object(O.a)({},e,t));return 5*a.carriers+4*a.battleships+3*a.cruisers+3*a.submarines+2*a.destroyers>N*N/2?(U("Et voi lis\xe4t\xe4 enemp\xe4\xe4 laivoja ellet suurenna pelilaudan kokoa tai poista joitakin laivoja"),!1):!(a.carriers<0||a.battleships<0||a.cruisers<0||a.submarines<0||a.destroyers<0)&&(U(""),!0)};return Object(x.jsxs)("div",{children:[Object(x.jsx)(c.b,{to:"/",children:Object(x.jsx)("button",{title:"Takaisin",className:"back-button",children:Object(x.jsx)("img",{src:"./icons/arrow-left.svg"})})}),Object(x.jsx)("h1",{className:"title",children:"Pelin asetukset"}),Object(x.jsxs)("div",{id:"settings-container",children:[Object(x.jsxs)("p",{id:"settings-help",children:["Jotta kaikki laivat mahtuvat pelilaudalle, on laivojen yhteenlasketun pinta-alan oltava enint\xe4\xe4n puolet pelilaudan koosta. Sinulle n\xe4ytet\xe4\xe4n virheviesti, jos joku arvo ei ole sopiva. ",Object(x.jsx)("br",{}),' Voit vaihtaa kaikki arvot takaisin oletusarvoiksi painamalla "Nollaa arvot"-nappia.']}),Object(x.jsxs)("div",{className:"settingsDiv",children:[Object(x.jsxs)("div",{className:"labelInput",children:[Object(x.jsxs)("label",{className:"settingsLabel",htmlFor:"player1Name",children:["Pelaajan 1 nimi:"," "]}),Object(x.jsx)("input",{className:"settingsInput long",type:"text",id:"player1Name",value:p,onChange:function(e){return b(e.target.value)}})]}),Object(x.jsxs)("div",{className:"labelInput",children:[Object(x.jsxs)("label",{className:"settingsLabel",htmlFor:"player2Name",children:["Pelaajan 2 nimi:"," "]}),Object(x.jsx)("input",{className:"settingsInput long",type:"text",id:"player2Name",value:g,onChange:function(e){return f(e.target.value)}})]})]}),Object(x.jsx)("div",{className:"settingsDiv",children:Object(x.jsxs)("div",{className:"labelInput",children:[Object(x.jsxs)("label",{className:"settingsLabel",htmlFor:"gridSize",children:["Pelilaudan koko (5-10):"," "]}),Object(x.jsx)("input",{className:"settingsInput",type:"number",id:"gridSize",value:N,onChange:function(e){(function(e){return 5*Q.carriers+4*Q.battleships+3*Q.cruisers+3*Q.submarines+2*Q.destroyers>e*e/2?(U("Et voi pienent\xe4\xe4 pelilaudan kokoa, ellet poista joitakin laivoja"),!1):e<5||e>10?(U("Pelilaudan koon on oltava v\xe4lilt\xe4 5-10"),!1):(U(""),!0)})(parseInt(e.target.value))&&S(e.target.valueAsNumber)}})]})}),Object(x.jsxs)("div",{id:"ship-container",children:[Object(x.jsxs)("div",{className:"labelInput",children:[Object(x.jsxs)("label",{className:"settingsLabel",htmlFor:"carriers",children:["Lentotukialusten m\xe4\xe4r\xe4:"," "]}),Object(x.jsx)("input",{className:"settingsInput",type:"number",id:"carriers",min:"0",value:I,onChange:function(e){X("carriers",parseInt(e.target.value))&&D(e.target.valueAsNumber)}})]}),Object(x.jsxs)("div",{className:"labelInput",children:[Object(x.jsxs)("label",{className:"settingsLabel",htmlFor:"battleships",children:["Taistelulaivojen m\xe4\xe4r\xe4:"," "]}),Object(x.jsx)("input",{className:"settingsInput",type:"number",id:"battleships",min:"0",value:A,onChange:function(e){X("battleships",parseInt(e.target.value))&&T(e.target.valueAsNumber)}})]}),Object(x.jsxs)("div",{className:"labelInput",children:[Object(x.jsxs)("label",{className:"settingsLabel",htmlFor:"cruisers",children:["Risteilij\xf6iden m\xe4\xe4r\xe4:"," "]}),Object(x.jsx)("input",{className:"settingsInput",type:"number",id:"cruisers",min:"0",value:H,onChange:function(e){X("cruisers",parseInt(e.target.value))&&G(e.target.valueAsNumber)}})]}),Object(x.jsxs)("div",{className:"labelInput",children:[Object(x.jsxs)("label",{className:"settingsLabel",htmlFor:"submarines",children:["Sukellusveneiden m\xe4\xe4r\xe4:"," "]}),Object(x.jsx)("input",{className:"settingsInput",type:"number",id:"submarines",min:"0",value:V,onChange:function(e){X("submarines",parseInt(e.target.value))&&J(e.target.valueAsNumber)}})]}),Object(x.jsxs)("div",{id:"destroyerDiv",className:"labelInput",children:[Object(x.jsxs)("label",{className:"settingsLabel",htmlFor:"destroyers",children:["H\xe4vitt\xe4jien m\xe4\xe4r\xe4:"," "]}),Object(x.jsx)("input",{className:"settingsInput",type:"number",id:"destroyers",min:"0",value:_,onChange:function(e){X("destroyers",parseInt(e.target.value))&&W(e.target.valueAsNumber)}})]})]}),Object(x.jsxs)("div",{id:"submitButtonDiv",children:[Object(x.jsx)("button",{className:"settings-button",onClick:function(){Object.values(Q).reduce((function(e,t){return e+t}),0)<=0?U("Laivoja on oltava enemm\xe4n kuin nolla!"):(t.moves.setPlayerNames(1,p),t.moves.setPlayerNames(2,g),t.moves.setBoardSize(parseInt(N)),t.moves.setShipAmounts(Q),t.events.endPhase())},children:"Vahvista asetukset"}),Object(x.jsx)("button",{className:"settings-button",onClick:function(){t.moves.resetGame()},children:"Nollaa arvot"})]}),Object(x.jsx)("div",{id:"error",children:Object(x.jsx)("p",{children:Z})})]})]})},f=a(129),y=a(73),k=a(7),N=a(130),S={carriers:["./image/Carrier front.png","./image/Carrier middle1.png","./image/Carrier middle2.png","./image/Carrier middle3.png","./image/Carrier back.png"],battleships:["./image/Battleship front.png","./image/Battleship middle1.png","./image/Battleship middle2.png","./image/Battleship back.png"],cruisers:["./image/Cruiser front.png","./image/Cruiser middle.png","./image/Cruiser back.png"],submarines:["./image/Submarine front.png","./image/Submarine middle.png","./image/Submarine back.png"],destroyers:["./image/Destroyer front.png","./image/Destroyer back.png"]},P=function(e,t){var a=S[e];return a&&a[t]},C=function(e){var t=e.ship,a=e.x,n=e.y,s=e.squareText,i=e.isOuter,r=e.grid,l=e.isHorizontal,c=e.nthCell,u=e.GRID_SIDE_SIZE,o=e.dropShip,j=e.canPlace,p=e.isDragging,b=Object(N.a)((function(){return{accept:w.SHIP,drop:function(e){o(a,n,e)},canDrop:function(e){return function(e,t,a){var n,s=a.size;if(l){if((n=t-c)+s>u||n<1)return!1;for(var i=n;i<n+s;i++)if(!r[i][e].canPlace)return!1;return!0}if((n=e-c)+s>u||n<1)return!1;for(var o=n;o<n+s;o++)if(!r[t][o].canPlace)return!1;return!0}(a,n,e)},collect:function(e){return{isOver:!!e.isOver()}}}}),[a,n]),m=Object(v.a)(b,2)[1],d=!i&&!j&&p;return Object(x.jsxs)("div",{ref:i?null:m,className:"DnDCell ".concat(i?"outer":""," ").concat(d?"Denied":""),x:a,y:n,children:[s,t&&Object(x.jsx)("div",{className:"DnDShip",children:Object(x.jsx)("div",{className:"ShipPart",children:Object(x.jsx)("img",{className:t.isHorizontal?"":"horizontal",src:P(t.type,t.index)})})})]},a+""+n+r)},I=function(e){var t=e.gridSize,a=e.ships,s=e.setShips,i=e.isHorizontal,r=e.nthCell,l=e.isDragging,c=Object(n.useState)([]),u=Object(v.a)(c,2),o=u[0],j=u[1],p=Object(n.useState)(0),b=Object(v.a)(p,2),m=b[0],d=b[1],O=["A","B","C","D","E","F","G","H","I","J"],g={display:"grid",width:"max-content",gridTemplateColumns:"repeat(".concat(t,", 1fr)"),gridTemplateRows:"repeat(".concat(t,", 1fr)"),margin:"20vh auto",backgroundImage:"url('./image/ocean.png')"};Object(n.useEffect)((function(){j(f())}),[a]);var f=function(){for(var e=[],a=0;a<t;a++){for(var n=[],s=0;s<t;s++){var i=0===s&&0===a,r="";if(0===a&&0!==s)r=O[s-1],i=!0;0===s&&0!==a&&(r="".concat(a),i=!0),n.push({x:s,y:a,squareText:r,isOuter:i,isHighlighted:!1,canPlace:!0})}e.push(n)}return y(e),d(m+1),e},y=function(e){for(var n=0;n<a.length;n++)for(var s=a[n],i=0;i<s.coords.length;i++){var r=s.coords[i];e[r.y][r.x].isHighlighted=!0,e[r.y][r.x].ship={type:r.type,index:i,isHorizontal:r.isHorizontal},e[r.y][r.x].canPlace=!1,e[r.y-1][r.x].canPlace=!1,e[r.y][r.x-1].canPlace=!1,r.y<t-1&&(e[r.y+1][r.x].canPlace=!1),r.x<t-1&&(e[r.y][r.x+1].canPlace=!1)}},N=function(e,t,a){var n,l=a.size,c=a.type,u=[];if(i)for(var o=n=t-r;o<n+l;o++)u.push({x:e,y:o,isHorizontal:i,type:c});else for(var j=n=e-r;j<n+l;j++)u.push({x:j,y:t,isHorizontal:i,type:c});var p={hits:0,type:c,isHorizontal:i,coords:u};s((function(e){return[].concat(Object(k.a)(e),[p])}))};return Object(x.jsx)("div",{className:"DnDBoard",style:g,children:o.map((function(e){return e.map((function(e){return Object(x.jsx)(C,Object(h.a)(Object(h.a)({},e),{},{grid:o,isHorizontal:i,nthCell:r,GRID_SIDE_SIZE:t,dropShip:N,isDragging:l}),e.x+" "+e.y+" "+i+m)}))}))},r)},D=a(131),L=function(e){var t=e.type,a=e.isHorizontal,s=e.setNthCell,i=e.setIsDragging,r=Object(n.useState)(!1),l=Object(v.a)(r,2),c=l[0],u=l[1],o=function(e){return{carriers:5,battleships:4,cruisers:3,submarines:3,destroyers:2}[e]}(t),j=Object(D.a)((function(){return{type:w.SHIP,item:function(){return i(!0),{size:o,type:t}},collect:function(e){return{isDragging:!!e.isDragging()}},end:function(e,t){i(!1),t.didDrop()&&u(!0)}}})),p=Object(v.a)(j,2),b=p[0].isDragging,m=p[1],d=function(e,t){var a=S[e];return a&&a[t]};return Object(x.jsx)("div",{className:"DnDShip",ref:m,style:{opacity:b?.5:1,fontSize:25,fontWeight:"bold",cursor:"move",display:c?"none":"flex",flexDirection:a?"column":"row",margin:"10px"},children:Array.from({length:o},(function(e,n){return Object(x.jsx)("div",{className:"ShipPart",onMouseDown:function(){return s(n)},children:Object(x.jsx)("img",{className:a?"":"horizontal",src:d(t,n)})},n)}))})},w=(a(91),{SHIP:"ship"}),A=function(e){var t=e.G,a=t.shipAmounts,s=t.boards[0].length+1,i=Object.values(a).reduce((function(e,t){return e+t}),0),r="0"===e.ctx.currentPlayer?e.G.player1Name:e.G.player2Name,l=Object(n.useState)(!1),c=Object(v.a)(l,2),u=c[0],o=c[1],j=Object(n.useState)(!0),p=Object(v.a)(j,2),b=p[0],m=p[1],d=Object(n.useState)(null),h=Object(v.a)(d,2),O=h[0],g=h[1],k=Object(n.useState)([]),N=Object(v.a)(k,2),S=N[0],P=N[1];Object(n.useEffect)((function(){function e(e){e.preventDefault(),"r"!==e.key&&"R"!==e.key||m((function(e){return!e}))}return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]);return Object(x.jsx)(f.a,{backend:y.a,children:Object(x.jsxs)("div",{className:"Setup",children:[Object(x.jsxs)("div",{className:"ShipPool",children:[Object(x.jsx)("button",{onClick:function(){return e.events.setPhase("settings")},title:"Takaisin",className:"back-button",children:Object(x.jsx)("img",{src:"./icons/arrow-left.svg"})}),Object(x.jsxs)("h2",{id:"setShip",children:["Asetetaan laivoja pelaajalle ",r]}),Object(x.jsx)("p",{children:"Voit k\xe4\xe4nt\xe4\xe4 laivoja painamalla r-n\xe4pp\xe4int\xe4"}),Object(x.jsx)("div",{style:{display:"flex",flexDirection:b?"row":"column",flexWrap:"wrap"},className:"ship-container",children:function(){for(var e=[],t=0,n=Object.keys(a);t<n.length;t++)for(var s=n[t],i=a[s],r=0;r<i;r++)e.push(Object(x.jsx)(L,{type:s,isHorizontal:b,setNthCell:g,setIsDragging:o},s+r));return e}()}),Object(x.jsxs)("div",{children:[Object(x.jsx)("button",{className:"confirm-button",onClick:function(){return e.moves.submitShips(S)},disabled:S.length<i,children:"Vahvista laivojen sijainti!"}),Object(x.jsx)("button",{className:"confirm-button",onClick:function(){return e.undo()},children:"Aseta laivat uudelleen"})]})]}),Object(x.jsx)("div",{className:"board-area",children:Object(x.jsx)(I,{gridSize:s,ships:S,setShips:P,isHorizontal:b,nthCell:O,isDragging:u})})]})})},T=function(e){var t=e.url,a=e.volume,s=Object(n.useState)(new Audio(t)),i=Object(v.a)(s,1)[0],r=Object(n.useState)(!1),l=Object(v.a)(r,2),c=l[0],u=l[1];Object(n.useEffect)((function(){i.volume=null!==a&&void 0!==a?a:.075}),[]),Object(n.useEffect)((function(){c&&i.play(),c||(i.pause(),i.currentTime=0)}),[c]),Object(n.useEffect)((function(){return i.addEventListener("ended",(function(){return u(!1)})),function(){i.removeEventListener("ended",(function(){return u(!1)}))}}),[c]);return[function(){return u(!0)},function(){return u(!1)}]},z=(a(93),function(e){var t=e.game,a=e.setShowWinScreen,n="0"===t.ctx.currentPlayer?t.G.player1Name:t.G.player2Name;return Object(x.jsx)("div",{id:"winScreenContainer",children:Object(x.jsxs)("div",{className:"WinScreen",children:[Object(x.jsx)("button",{id:"close-button",onClick:function(){return a(!1)},children:Object(x.jsx)("img",{src:"./icons/x.svg"})}),Object(x.jsxs)("h1",{className:"title ws",children:[n," voitti pelin!"]}),Object(x.jsxs)("div",{id:"wsButtonContainer",children:[Object(x.jsx)(c.b,{to:"/play",children:Object(x.jsx)("button",{className:"home-button ws",onClick:function(){t.moves.resetGame()},children:"Pelaa uudestaan!"})}),Object(x.jsx)(c.b,{to:"/",children:Object(x.jsx)("button",{className:"home-button ws",children:"Lopeta pelaaminen"})})]})]})})}),E=function(e){var t=e.game,a=e.playerNum,n=parseInt(t.ctx.currentPlayer)===a,s=t.G.boards[a].length+1,i=t.G.boards[a],r=0===a?t.G.shipsPlayer1:t.G.shipsPlayer2,l=0===a?t.G.player1Name:t.G.player2Name,c=Math.random()<.05?"HELLOWORLD":"ABCDEFGHIJ",u={gridTemplateColumns:"repeat(".concat(s,", 1fr)"),gridTemplateRows:"repeat(".concat(s,", max-content)"),backgroundImage:"url('./image/ocean.png')"},o=function(e){var t=e.x,a=e.y;return r.find((function(e){return e.coords.find((function(e){return e.x===t&&e.y===a}))}))},j=function(e){var t=o(e);if(!t)return null;var a=t.coords.findIndex((function(t){return t.x===e.x&&t.y===e.y})),n=!t.isHorizontal;return Object(x.jsx)("img",{className:n?"horizontal":"",src:p(t.type,a)})},p=function(e,t){return S[e]&&S[e][t]},b=function(e){return function(e){var t;return null===(t=o(e))||void 0===t?void 0:t.sunk}(e)||n},m=function(e){var t=e.isOuter?" outer":"",a=e.isHit?" clicked":"",n=a&&o(e)?" hit":"";return"BoardCell".concat(t).concat(a).concat(n)},d="gameOver"===t.G.message.type;return Object(x.jsxs)("div",{className:"BoardContainer",children:[Object(x.jsx)("div",{className:"Board ".concat(n?"own":""),style:u,children:function(){for(var e=[],t=0;t<s;t++){for(var a=[],n=0;n<s;n++){var r=0===n&&0===t,l="";if(0===t&&0!==n)l=c[n-1],r=!0;0===n&&0!==t&&(l="".concat(t),r=!0);var u=!r&&null!==i[n-1][t-1];a.push({x:n,y:t,squareText:l,isOuter:r,isHit:u})}e.push(a)}return e}().map((function(e){return e.map((function(e){return Object(x.jsxs)("div",{className:m(e),onClick:function(){return!d&&function(e){n||t.moves.clickCell({coords:{x:e.x-1,y:e.y-1},targetPlayer:a})}(e)},children:[Object(x.jsx)("div",{className:"OuterText",children:e.squareText}),b(e)&&Object(x.jsx)("div",{className:"Ship",children:j(e)})]},e.x+""+e.y)}))}))}),Object(x.jsx)("h2",{className:"PlayerName",children:l})]})},H=(a(94),function(e){var t=e.G.message,a=Object(n.useState)(!1),s=Object(v.a)(a,2),i=s[0],r=s[1],l=T({url:"./assets/explosion_effect.mp3",volume:.12}),u=Object(v.a)(l,1)[0],o=T({url:"./assets/ship_sunk.mp3",volume:.2}),j=Object(v.a)(o,1)[0],p=T({url:"./assets/water_splash.mp3",volume:.4}),b=Object(v.a)(p,1)[0];return Object(n.useEffect)((function(){var e=[];switch(t.type){default:case"nohit":return;case"hit":u();break;case"sunk":u(),e.push(setTimeout(j,1e3));break;case"gameOver":u(),e.push(setTimeout(j,1e3)),e.push(setTimeout((function(){return r(!0)}),3e3)),b()}return function(){return e.forEach((function(e){return clearTimeout(e)}))}}),[t.type]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(c.b,{to:"/",children:Object(x.jsx)("button",{title:"Takaisin",className:"back-button play",children:"Lopeta peli"})}),Object(x.jsx)("div",{id:"message",children:Object(x.jsx)("h2",{children:!i&&t.text})}),Object(x.jsxs)("div",{className:"BattleshipBoards",children:[Object(x.jsx)(E,{game:e,playerNum:0}),Object(x.jsx)(E,{game:e,playerNum:1})]}),i&&Object(x.jsx)(z,{game:e,setShowWinScreen:r})]})}),G=(a(95),function(e){var t=e.hide,a=e.playerNum,n=e.game,s=1===a?n.G.player1Name:n.G.player2Name;return Object(x.jsx)("div",{className:"ChangeScreen",children:Object(x.jsxs)("div",{id:"turn",children:[Object(x.jsxs)("h1",{children:["Vuorossa: ",s]}),Object(x.jsx)("button",{className:"home-button",onClick:t,children:"Aloita vuoro"})]})})}),B=function(e){var t=Object(n.useState)(!1),a=Object(v.a)(t,2),s=a[0],i=a[1];Object(n.useLayoutEffect)((function(){"play"===e.ctx.phase&&i(!0)}),[e.ctx.currentPlayer,e.ctx.phase]);var r=function(){switch(e.ctx.phase){default:case"settings":return Object(x.jsx)(g,{game:e});case"setup":return Object(x.jsx)(A,Object(h.a)({},e));case"play":return Object(x.jsx)(H,Object(h.a)({},e))}};return s?Object(x.jsx)(G,{playerNum:parseInt(e.ctx.currentPlayer)+1,hide:function(){return i(!1)},game:e}):Object(x.jsx)(r,{})},F=function(){return Object(x.jsxs)("div",{id:"home-bg",children:[Object(x.jsx)("h1",{className:"title",children:"Laivanupotus"}),Object(x.jsxs)("div",{id:"home-button-container",children:[Object(x.jsx)(c.b,{to:"/play",children:Object(x.jsx)("button",{className:"home-button",children:"Aloita peli"})}),Object(x.jsx)(c.b,{to:"/help",children:Object(x.jsx)("button",{className:"home-button",children:"Ohjeet"})}),Object(x.jsx)(c.b,{to:"/credits",children:Object(x.jsx)("button",{className:"home-button",children:"Tekij\xe4t"})})]})]})},V=function(){return Object(x.jsxs)("div",{id:"help-div",children:[Object(x.jsx)(c.b,{to:"/",children:Object(x.jsx)("button",{title:"Takaisin",className:"back-button",children:Object(x.jsx)("img",{src:"./icons/arrow-left.svg"})})}),Object(x.jsx)("h1",{className:"title",children:"Ohjeet"}),Object(x.jsx)("h2",{className:"sub-title",children:"Mik\xe4 on laivanupotus?"}),Object(x.jsx)("p",{className:"help-text",children:"Laivanupotus on kahden pelaajan peli, jossa molemmilla pelaajilla on oma peliruudukko, jolle he asettavat laivansa. Laivoja on eri pituisia, ja niit\xe4 voi olla eri m\xe4\xe4r\xe4 pelist\xe4 riippuen. Pelaajat eiv\xe4t n\xe4e toistensa laivoja. Pelaajat ampuvat vuorotellen toistensa laudoille valitsemalla ruudun, johon he haluavat ampua. Pelaaja saa uuden vuoron, jos h\xe4n osuu vastustajansa laivaan. Laiva uppoaa, kun sen jokaiseen ruutuun on osuttu. Peli loppuu, kun jomman kumman pelaajan kaikki laivat ovat uponneet. Pelin voittaa siis se pelaaja, joka saa upotettua kaikki vastustajansa laivat ensimm\xe4isen\xe4."}),Object(x.jsx)("h2",{className:"sub-title",children:"Miten voin pelata laivanupotusta?"}),Object(x.jsxs)("p",{className:"help-text",children:['Voit aloittaa pelin painamalla "Aloita peli"-nappia'," ",Object(x.jsx)(c.b,{to:"/",children:Object(x.jsx)("a",{id:"body-link",children:"kotisivulla"})}),'. Ensimm\xe4iseksi pelille valitaan asetukset, eli pelaajien nimet, pelilaudan koko ja eri alustyyppien m\xe4\xe4r\xe4t. Kun olet tyytyv\xe4inen pelin asetuksiin, voit siirty\xe4 asettamaan laivoja paikoilleen painamalla "Vahvista asetukset"-nappia.']}),Object(x.jsx)("br",{}),Object(x.jsx)("p",{className:"help-text",children:'Laivat asetetaan vuorotellen; ensin pelaajalle 1, sitten pelaajalle 2. Kun pelaaja asettaa laivojaan, ei toinen pelaaja saa n\xe4hd\xe4 ruutua. Laivat asetetaan paikoilleen vet\xe4m\xe4ll\xe4 ne haluttuun kohtaan pelilaudalla. Laivoja voi k\xe4\xe4nt\xe4\xe4 ennen siirtoa painamalla r-n\xe4pp\xe4int\xe4. Laivat eiv\xe4t saa olla vierekk\xe4isiss\xe4 ruuduissa. N\xe4m\xe4 ns. kielletty ruudut on merkitty punaisella, etk\xe4 voi asettaa laivoja siten, ett\xe4 ne ovat kyseisill\xe4 ruuduilla. Kun pelaaja 1 on asettanut laivat mieleisilleen paikoille, h\xe4n voi antaa vuoron seuraavalle pelaajalle painamalla "Vahvista laivojen sijainti!"-nappia.'}),Object(x.jsx)("br",{}),Object(x.jsx)("p",{className:"help-text",children:'Kun kumpikin pelaaja on asettanut laivansa, itse peli alkaa. Vuoro alkaa aina painamalla "Aloita vuoro"-nappia. (Toinen pelaaja ei saa n\xe4h\xe4 tietokoneruutua toisen pelaajan vuorolla!) Jokaisella vuorolla pelaaja n\xe4kee sek\xe4 oman ett\xe4 vastustajan pelilaudan. Pelaajan tulee ampua vastustajan laudalle klikkaamalla sit\xe4 ruutua, johon haluaa ampua. Jos pelaaja osuu vastustajan laivaan, merkit\xe4\xe4n se ruudulle punaisella ruksilla, ja pelaaja saa uuden vuoron. Jos pelaaja upottaa vastustajan laivan, laiva tulee n\xe4kyviin ruudulle ja pelaaja saa uuden vuoron. Vuoro vaihtuu, kun pelaaja tekee hutiammunnan. Huti n\xe4kyy pelilaudalla valkoisena ruksina.'}),Object(x.jsx)("br",{}),Object(x.jsx)("p",{className:"help-text",children:'Peli p\xe4\xe4ttyy, kun toisen pelaajan kaikki laivat ovat uponneet. Voittaja julistetaan, ja voit aloittaa uuden pelin painamalla "Pelaa uudestaan!"-nappia, tai lopettaa pelaamisen painamalla "Lopeta pelaaminen"-nappia.'})]})},J=function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(c.b,{to:"/",children:Object(x.jsx)("button",{title:"Takaisin",className:"back-button",children:Object(x.jsx)("img",{src:"./icons/arrow-left.svg"})})}),Object(x.jsx)("h1",{className:"title",children:"Tekij\xe4t"}),Object(x.jsxs)("div",{id:"credits-container",children:[Object(x.jsx)("h2",{className:"credit-name",children:"Juhana - Drag and Drop"}),Object(x.jsx)("h2",{className:"credit-name",children:"Juho - Grafiikat"}),Object(x.jsx)("h2",{className:"credit-name",children:"Matias - Laivanupotus"}),Object(x.jsx)("h2",{className:"credit-name",children:"Millina - Menu, Setup Form ja Pelin loppuminen"})]})]})},M=(a(96),function(){var e=Object(l.a)({game:d,board:B,numPlayers:2,debug:!1}),t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current.volume=.05}),[]),Object(x.jsxs)("div",{children:[Object(x.jsx)(c.a,{basename:"/Laivanupotus/",children:Object(x.jsxs)(u.c,{children:[Object(x.jsx)(u.a,{path:"/",exact:!0,children:Object(x.jsx)(F,{})}),Object(x.jsx)(u.a,{path:"/play",children:Object(x.jsx)(e,{})}),Object(x.jsx)(u.a,{path:"/help",children:Object(x.jsx)(V,{})}),Object(x.jsx)(u.a,{path:"/credits",children:Object(x.jsx)(J,{})})]})}),Object(x.jsx)("audio",{autoPlay:!0,ref:t,loop:!0,src:"./assets/battleship_music.mp3"})]})}),R=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,132)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),i(e),r(e)}))};r.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(M,{})}),document.getElementById("root")),R()},81:function(e,t,a){},82:function(e,t,a){},91:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){}},[[124,1,2]]]);
//# sourceMappingURL=main.de56c367.chunk.js.map